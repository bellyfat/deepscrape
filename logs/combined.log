{"level":"info","message":"Created crawl output directory: ./crawl-output","timestamp":"2025-06-07 16:40:23"}
{"config":{"concurrency":5,"enableDynamicScaling":false,"lockDuration":300000,"lockRenewTime":60000,"maxConcurrency":20,"maxJobs":1000,"minConcurrency":1,"retryAttempts":3,"retryDelay":5000},"level":"info","message":"Enhanced queue service initialized: deepscrape-crawler-queue","queueName":"deepscrape-crawler-queue","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Server running on port 3000","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Environment: production","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Initializing enhanced crawler queue","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Connected to Redis","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Enhanced crawler queue initialized","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Worker initialized with concurrency: 5","timestamp":"2025-06-07 16:40:23"}
{"concurrency":5,"dynamicScaling":false,"level":"info","lockDuration":300000,"message":"Enhanced crawler worker initialized with advanced features","timestamp":"2025-06-07 16:40:23"}
{"level":"info","message":"Crawl queue and worker initialized successfully","timestamp":"2025-06-07 16:40:23"}
{"level":"warn","message":"Invalid API key provided: your-secret-key","timestamp":"2025-06-07 16:41:38"}
{"level":"info","message":"API key validated successfully","timestamp":"2025-06-07 16:42:28"}
{"level":"info","message":"API request received to scrape URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform","timestamp":"2025-06-07 16:42:28"}
{"level":"info","message":"Starting scraping process for URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform","timestamp":"2025-06-07 16:42:28"}
{"level":"info","message":"Launching browser with options: {}","timestamp":"2025-06-07 16:42:28"}
{"level":"error","message":"Error scraping URL: browserType.launch: Failed to launch chromium because executable doesn't exist at /usr/bin/chromium-browser","timestamp":"2025-06-07 16:42:28"}
{"level":"warn","message":"Playwright failed, falling back to HTTP scraper: Scraping error: browserType.launch: Failed to launch chromium because executable doesn't exist at /usr/bin/chromium-browser","timestamp":"2025-06-07 16:42:28"}
{"level":"info","message":"HTTP scraping URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform","timestamp":"2025-06-07 16:42:28"}
{"level":"info","message":"HTTP scraping completed for https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform in 883ms","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"HTTP scraper fallback successful","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Cleaning HTML content for URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Found 8 headings in the document","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Found main content using selector: main with 3 headings","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Final cleaned HTML contains 3 headings","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"HTML content cleaning complete","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Processing response. Content type: html, Extractor format: markdown","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Converting HTML to Markdown","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Transforming HTML to Markdown for URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Original HTML contains 3 headings","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Cleaned HTML contains 5 headings","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Markdown contains 5 heading lines","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"HTML to Markdown transformation complete","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Markdown conversion complete. Content length: 13711","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Cache set for key: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform:{\"extractorFormat\":\"markdown\"} (TTL: 3600s)","timestamp":"2025-06-07 16:42:29"}
{"level":"info","message":"Scraping process completed successfully for URL: https://cloud.google.com/vertex-ai/docs/start/introduction-unified-platform in 1179ms","timestamp":"2025-06-07 16:42:29"}
{"level":"warn","message":"Invalid API key provided: your-secret-key","timestamp":"2025-06-07 16:42:54"}
{"level":"info","message":"API key validated successfully","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"API request received to summarize URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"Starting scraping process for URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"Launching browser with options: {}","timestamp":"2025-06-07 16:43:20"}
{"level":"error","message":"Error scraping URL: browserType.launch: Failed to launch chromium because executable doesn't exist at /usr/bin/chromium-browser","timestamp":"2025-06-07 16:43:20"}
{"level":"warn","message":"Playwright failed, falling back to HTTP scraper: Scraping error: browserType.launch: Failed to launch chromium because executable doesn't exist at /usr/bin/chromium-browser","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"HTTP scraping URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"HTTP scraping completed for https://en.wikipedia.org/wiki/Large_language_model in 720ms","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"HTTP scraper fallback successful","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"Cleaning HTML content for URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:20"}
{"level":"info","message":"Found 45 headings in the document","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Found main content using selector: main with 44 headings","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Final cleaned HTML contains 43 headings","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"HTML content cleaning complete","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Processing response. Content type: html, Extractor format: markdown","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Converting HTML to Markdown","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Transforming HTML to Markdown for URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Original HTML contains 43 headings","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Cleaned HTML contains 16 headings","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Markdown contains 16 heading lines","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"HTML to Markdown transformation complete","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Markdown conversion complete. Content length: 9582","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Creating OpenAI service with model: gpt-4o","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"LLM extractor initialized successfully","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Applying LLM extraction with schema","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Starting LLM extraction for URL: https://en.wikipedia.org/wiki/Large_language_model","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"Sending request to OpenAI: gpt-4o","timestamp":"2025-06-07 16:43:21"}
{"level":"info","message":"LLM extraction completed successfully in 10372ms","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Cache set for key: https://en.wikipedia.org/wiki/Large_language_model:{\"extractorFormat\":\"markdown\",\"waitForSelector\":\"body\"} (TTL: 3600s)","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Scraping process completed successfully for URL: https://en.wikipedia.org/wiki/Large_language_model in 11740ms","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Response data fields: url, title, content, contentType, metadata, structuredData, extractionResult","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Response structuredData: present","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Response extractedData: missing","timestamp":"2025-06-07 16:43:31"}
{"level":"info","message":"Using structuredData","timestamp":"2025-06-07 16:43:31"}
